<h1>Formats</h1>

<% if !signed_in?-%>
  You are currently a guest user. Please log in to create formats and to access all other restricted sites. View the
  formats below.
<% elsif @formats.empty? -%>
  You are logged in. There are no formats yet. Start creating some by pressing "Create Format".
  <br/>
<% end -%>

<% unless @formats.empty? %>
  <table>
    <tr>
      <th>Title</th>
      <th>Multiline</th>
      <th></th>
      <th></th>
    </tr>

    <% @formats.each do |format| %>
      <tr>
        <td><%= format.title %></td>
        <td><%= format.multiline %></td>
        <td><%= link_to ' Edit', edit_format_path(format),
                        class: "btn btn-sm btn-outline-primary fa fa-edit" if signed_in? %></td>
        <td>
          <%= link_to ' Delete', format_path(format),
                        method: :delete,
                        data: { confirm: 'Are you sure?' },
                        class: "btn btn-sm btn-outline-primary fa fa-trash" if signed_in? %></td>

      </tr>
    <% end %>
  </table>
<% end -%>

<div>
  <br>
  <%= link_to ' Create Format', "formats/new",
              class: "btn btn-primary fa fa-plus" if signed_in? %>
</div>